!!!
%section.main-section
  .row
    .large-6.columns
      %h1.title{:align => "center"}
        Open Bugs by Product
      #bug_top
    .large-6.columns
      %h1.title{:align => "center"}
        Open Pullrequests by Repo
      #pull_top
    .large-12.columns
      %h1.title{:align => "center"}
        L3 Trend
      #l3_trend

!= js :foundation
!= js :morris

:javascript
  $(document).foundation();
  $(document).ready(function(){
    var colors = ['#B39DDB','#9FA8DA','#90CAF9','#81D4FA','#80DEEA','#80CBC4','#A5D6A7','#C5E1A5','#E6EE9C','#FFF59D','#FFE082','#FFCC80','#FFAB91','#BCAAA4','#EEEEEE'].reverse();
    new Morris.Donut({
      element: 'pull_top',
      data: #{@pulltop},
      colors: colors,
      resize: true,
      formatter: function(y, data){
        return y;
      }
    }).on('click', function(i, row){
      if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))
        jQuery.noop();
      else
        window.open("/github/"+row.label,"_self");
    });
    new Morris.Donut({
      element: 'bug_top',
      data: #{@bugtop},
      colors: colors,
      resize: true
    }).on('click', function(i, row){
      if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))
        jQuery.noop();
      else
        window.open("/"+row.label.replace(/ /g,'_')+"/bugzilla","_self");
    });
    new Morris.Line({
      element: 'l3_trend',
      data: #{@l3trend},
      xkey: 'time',
      ykeys: ['open'],
      yLabelFormat: function(y){return y != Math.round(y)?'':y;},
      labels: ['Open'],
      resize: true,
      hideHover: true,
      lineColors: ["#4CAF50"],
      smooth: false,
      continuousLine: true,
      hoverCallback: function (index, options, content, row) {
        return content;
      }
    }).on('click', function(i, row){
      if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))
        jQuery.noop();
      else
        window.open("https://bugzilla.suse.com/buglist.cgi?product=#{@product_query}&status_whiteboard=openL3&status_whiteboard_type=allwordssubstr&query_format=advanced&resolution=---");
    });
  });
